0. Prerequisites

Update packages 

apt update 

1. Latex - 2020

install texlive-latex-base

latex --version (check for version)

Problem 1: latex prompts for an answer Y in terminal, so we skip this by adding the -y flag 

Problem 2: tzdata asks for user interaction when installing, so we specify that dbkg runs without interactive dialogue by changing a environment vairable inside the dockerfile by adding: ARG DEBIAN_FRONTEND=noninteractive

Problem 3: version is 2019 instead of 2020 should work fine though

2. Java JDK – 11 

apt install openjdk-11-jdk -y 


3. xindy 

apt install xindy -y 

4. Inkscape 1.0.1

apt install inkscape -y

Minor Problem : version is 0.92.5, on my local machine it is 1.0.1 with same commmand an packages are updated at beginning ? Should work fine though 

5. ps2pdf 

apt install ghostscript -y 

6. pdftk server – 0.91

apt install snapd

snap install pdftk

Problem 1: not server ?
Problem 2: 0.92 and not 0.91

Alternative:
install gdebi – apt install gdebi
install 3 dependencies and pdftk with gdebi from /pdftk

gdebi package_location -n 

Problem: got a bug with installing pdftk in non-interactive mode, found fix (2 lines of code)
on web 











FROM ubuntu:latest
ARG DEBIAN_FRONTEND=noninteractive

ADD ./pdftk /pdftk

RUN apt update && apt install texlive -y && \ 
        apt install openjdk-11-jdk -y && \
        apt install xindy -y && \
        apt install inkscape -y && \
        apt install ghostscript -y && \
        apt install gdebi -y && gdebi /pdftk/gcc-4.8-base_4.8.4-1_amd64.deb -n && \
		gdebi /pdftk/libgcj-common_6.3-4_all.deb -n && \
		gdebi /pdftk/libgcj14_4.8.5-4ubuntu2_amd64.deb -n && \
		gdebi /pdftk/pdftk_2.01-1_amd64.deb -n &&  \
		sed -i 's|"\[\[.*\]"|"[\\[(](\\S+)/\\S+[\\])]"|' /usr/share/gdebi/gdebi && \
		sed -i 's|"\[\[.*\]"|"[\\[(](\\S+)/\\S+[\\])]"|' /usr/share/gdebi/GDebi/GDebiCli.py


CMD echo "latex version:" && latex --version && \
        echo "java version: " && java --version && \
        echo "xindy version: " && xindy --version && \
        echo "inkscape version: " && inkscape --version && \
        echo "ps2pdf test: " && ps2pdf && \
        echo "pdftk version: " && pdftk --version \

